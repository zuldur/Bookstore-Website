{% extends 'base.html' %} {% block content %}

<script type="text/javascript">
  $("#body-row .collapse").collapse("hide");

  $("#collapse-icon").addClass("fa-angle-double-left");

  $("[data-toggle=sidebar-colapse]").click(function() {
    SidebarCollapse();
  });

  function SidebarCollapse() {
    $(".menu-collapsed").toggleClass("d-none");
    $(".sidebar-submenu").toggleClass("d-none");
    $(".submenu-icon").toggleClass("d-none");
    $("#sidebar-container").toggleClass("sidebar-expanded sidebar-collapsed");

    // Treating d-flex/d-none on separators with title
    var SeparatorTitle = $(".sidebar-separator-title");
    if (SeparatorTitle.hasClass("d-flex")) {
      SeparatorTitle.removeClass("d-flex");
    } else {
      SeparatorTitle.addClass("d-flex");
    }

    $("#collapse-icon").toggleClass(
      "fa-angle-double-left fa-angle-double-right"
    );
  }
</script>

<style>
  #prof_img {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
  .parallax {
    /* The image used */
    background-image: url("../../../static/images/prof_background.jpg");

    /* Set a specific height */
    min-height: 500px;

    /* Create the parallax scrolling effect */
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
  }
  #prof_col {
    position: absolute;
    width: 850px;
    left: 600px;
    top: 130px;
  }

  #sidebar-container {
    box-shadow: 2px 2px 5px #1cb9a4;
    opacity: 0.9;
    background: #fff;
  }
  .navbar .nav-item {
    font-size: 1.4rem;
    padding-right: 1.4rem;
  }

  #prof-card {
    box-shadow: 4px 6px 5px #1cb9a4;
    opacity: 0.9;
    background: #fff;
  }

  .sticky-offset {
    top: 56px;
  }

  #body-row {
    margin-left: 0;
    margin-right: 0;
  }
  #sidebar-container {
    min-height: 100vh;
    background-color: #333;
    padding: 0;
  }

  /* Sidebar sizes when expanded and expanded */
  .sidebar-expanded {
    width: 230px;
  }
  .sidebar-collapsed {
    width: 60px;
  }

  /* Menu item*/
  #sidebar-container .list-group a {
    height: 50px;
    color: white;
  }

  /* Submenu item*/
  #sidebar-container .list-group .sidebar-submenu a {
    height: 45px;
    padding-left: 30px;
  }
  .sidebar-submenu {
    font-size: 0.9rem;
  }

  /* Separators */
  .sidebar-separator-title {
    background-color: #333;
    height: 35px;
  }
  .sidebar-separator {
    background-color: #333;
    height: 25px;
  }
  .logo-separator {
    background-color: #333;
    height: 60px;
  }

  /* Closed submenu icon */
  #sidebar-container
    .list-group
    .list-group-item[aria-expanded="false"]
    .submenu-icon::after {
    content: " \f0d7";
    font-family: FontAwesome;
    display: inline;
    text-align: right;
    padding-left: 10px;
  }
  /* Opened submenu icon */
  #sidebar-container
    .list-group
    .list-group-item[aria-expanded="true"]
    .submenu-icon::after {
    content: " \f0da";
    font-family: FontAwesome;
    display: inline;
    text-align: right;
    padding-left: 10px;
  }
</style>

<link
  rel="stylesheet"
  type="text/css"
  href="static/css/edit-address-style.css"
/>
<div class="parallax">
  <div class="row" id="body-row">
    <!-- Sidebar -->
    <div
      id="sidebar-container"
      class="sidebar-expanded nav-light bg-dark d-none d-md-block col-2"
    >
      <!-- d-* hiddens the Sidebar in smaller devices. Its itens can be kept on the Navbar 'Menu' -->
      <!-- Bootstrap List Group -->
      <ul class="list-group sticky-top sticky-offset">
        <!-- Separator with title -->
        <li
          class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed"
        >
          <small>USER</small>
        </li>
        <!-- /END Separator -->
        <!-- Menu with submenu -->
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-user fa-fw mr-3"></span>
            <span class="menu-collapsed">{{ current_user.username }}</span>
          </div>
        </a>
        <!-- Separator with title -->
        <li
          class="list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed"
        >
          <small>PROFILE</small>
        </li>

        <a
          href="{{ url_for('users.account') }}"
          class="bg-dark list-group-item list-group-item-action"
        >
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-user fa-fw mr-3"></span>
            <span class="menu-collapsed">Profile</span>
          </div>
        </a>
        <!-- Submenu content -->
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-list fa-fw mr-3"></span>
            <span class="menu-collapsed">Wishlist</span>
          </div>
        </a>
        <!-- /END Separator -->
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-shopping-cart fa-fw mr-3"></span>
            <span class="menu-collapsed"
              >Shopping Cart
          </div>
        </a>
        <a
          href="{{ url_for('users.shipping_info') }}"
          class="bg-dark list-group-item list-group-item-action"
        >
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-truck fa-fw mr-3"></span>
            <span class="menu-collapsed">Shipping Info</span>
          </div>
        </a>
        <a
          href="{{ url_for('users.payment_info') }}"
          class="bg-dark list-group-item list-group-item-action"
        >
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-credit-card fa-fw mr-3"></span>
            <span class="menu-collapsed">Payment Info</span>
          </div>
        </a>
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-thumbs-up fa-fw mr-3"></span>
            <span class="menu-collapsed">Reviews</span>
          </div>
        </a>
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-star fa-fw mr-3"></span>
            <span class="menu-collapsed">Favorites</span>
          </div>
        </a>
        <!-- Separator without title -->
        <li class="list-group-item sidebar-separator menu-collapsed"></li>
        <!-- /END Separator -->
        <a href="#" class="bg-dark list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span class="fa fa-question fa-fw mr-3"></span>
            <span class="menu-collapsed">Help</span>
          </div>
        </a>
        <a
          href="#"
          data-toggle="sidebar-colapse"
          class="bg-dark list-group-item list-group-item-action d-flex align-items-center"
        >
          <div class="d-flex w-100 justify-content-start align-items-center">
            <span id="collapse-icon" class="fa fa-2x mr-3"></span>
            <span id="collapse-text" class="menu-collapsed">Collapse</span>
          </div>
        </a>
        <!-- Logo -->
        <li
          class="list-group-item logo-separator d-flex justify-content-center"
        >
          <img src="static/images/logo.png" width="30" height="30" />
        </li>
      </ul>
      <!-- List Group END-->
    </div>
    <!-- Bootstrap row -->

    <!-- sidebar-container END -->
    <div id="prof_col" class="col-md-9">
      <div id="prof-card" class="card" style="background-color: #343a40;">
        <div class="card-body">
          <div class="row">
            <div class="col-md-12">
              <h4 align="center" class="text-light">
                Edit address
              </h4>
              {% for message in get_flashed_messages() %}
              <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert">
                  &times;
                </button>
                {{ message }}
              </div>
              {% endfor %}
            </div>
          </div>
          <hr style="border-top: solid white;" />
          <div class="container" align="center">
            <div class="row">
              <div class="col-lg-12" align="center">
                <form method="POST" action="" enctype="multipart/form-data">
                  {{ form.hidden_tag() }}
                  <div class="form-group row">
                    <label
                      for="username"
                      class="col-3 col-form-label text-light"
                      >Address</label
                    >
                    <div class="col-5">
                      {{ form.address(class="form-control here", type="text" ,placeholder=address.address)}}
                      <!--<input id="username" name="username" placeholder="{{current_user.username}}" class="form-control here" required="required" type="text">-->
                      {% for error in form.address.errors %}
                      <a style="color:red;">{{ error }}</a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-3 col-form-label text-light">City</label>
                    <div class="col-5">
                      {{form.city(class="form-control here", placeholder=address.city)}}
                      {% for error in form.city.errors %}
                      <a style="color:red;">{{ error }}</a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="form-group row">
                    <label class="col-3 col-form-label text-light">State</label>
                    <div class="col-5">
                      {{ form.state(class='form-control here', type="text", placeholder=address.state) }}
                      {% for error in form.state.errors %}
                      <a style="color:red;">{{ error }}</a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="email" class="col-3 col-form-label text-light"
                      >ZIP</label
                    >
                    <div class="col-5">
                      {{ form.zip_code(class='form-control here',type="text", placeholder=address.postal_code) }}
                      {% for error in form.zip_code.errors %}
                      <a style="color:red;">{{ error }}</a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="newpass" class="col-3 col-form-label text-light"
                      >Phone Number</label
                    >
                    <div class="col-5">
                      {{ form.phone_num(class='form-control here',type="text", placeholder=address.phone_num) }}
                      {% for error in form.phone_num.errors %}
                      <a style="color:red;">{{ error }}</a>
                      {% endfor %}
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="offset-5 col-5">
                      {{ form.submit(class="btn btn-success", type="submit") }}
                      <!--<button name="submit" type="submit" class="btn btn-primary">Update My Profile</button>-->
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
